{"version":3,"sources":["../server/DataBaseUtils.js"],"names":[],"mappings":";;;;;QAYgB,e,GAAA,e;QAUA,W,GAAA,W;QAKA,S,GAAA,S;QAIA,O,GAAA,O;;AA/BhB;;;;AAEA;;;;AAEA;;;;AAEA;;AAEA,IAAM,cAAc,QAAQ,GAAR,CAAY,YAAZ,IACA,QAAQ,GAAR,CAAY,WADZ,mBAEa,iBAAO,EAAP,CAAU,IAFvB,SAE+B,iBAAO,EAAP,CAAU,IAFzC,SAEiD,iBAAO,EAAP,CAAU,IAF/E;;AAIO,SAAS,eAAT,GAA2B;AAChC,UAAQ,GAAR,CAAY,QAAQ,GAAR,CAAY,YAAxB;AACA,UAAQ,GAAR,CAAY,WAAZ;AACE,qBAAS,OAAT,CAAiB,WAAjB,EAA8B,UAAC,GAAD,EAAM,GAAN,EAAc;AAC1C,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,CAAa,0BAA0B,WAA1B,GAAwC,IAAxC,GAA+C,GAA5D;AACD;AACF,GAJD;AAKH;;AAEM,SAAS,WAAT,GAAuB;AAC5B,UAAQ,GAAR,CAAY,aAAZ,EAA2B,mBAAS,UAAT,CAAoB,UAA/C;AACA,SAAO,mBAAS,UAAT,CAAoB,UAApB,KAAmC,CAAnC,GAAuC,IAAvC,GAA8C,KAArD;AACD;;AAEM,SAAS,SAAT,CAAmB,EAAnB,EAAuB;AAC1B,SAAO,WAAK,IAAL,EAAP;AACH;;AAEM,SAAS,OAAT,CAAiB,IAAjB,EAAuB;AAC5B,UAAQ,GAAR,CAAY,IAAZ;AACE,MAAM,OAAO,eAAS;AAClB,SAAK,KAAK,GADQ;AAElB,SAAK,KAAK;AAFQ,GAAT,CAAb;AAIJ,UAAQ,GAAR,CAAY,IAAZ;AACI,SAAO,KAAK,IAAL,EAAP;AACH","file":"DataBaseUtils.js","sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nimport config from '../etc/config.json';\r\n\r\nimport { Word } from './models/Word';\r\n\r\n//const Word = mongoose.model('Word');\r\n\r\nconst databaseUri = process.env.MONGOLAB_URI ||\r\n                    process.env.MONGOHQ_URL ||\r\n                    `mongodb://${config.db.host}:${config.db.port}/${config.db.name}`;\r\n\r\nexport function setUpConnection() {\r\n  console.log(process.env.MONGOLAB_URI);\r\n  console.log(databaseUri);\r\n    mongoose.connect(databaseUri, (err, res) => {\r\n      if (err) {\r\n        console.log ('ERROR connecting to: ' + databaseUri + '. ' + err);\r\n      }\r\n    });\r\n}\r\n\r\nexport function isConnected() {\r\n  console.log('readyState ', mongoose.connection.readyState);\r\n  return mongoose.connection.readyState === 1 ? true : false;\r\n}\r\n\r\nexport function listWords(id) {\r\n    return Word.find();\r\n}\r\n\r\nexport function addWord(data) {\r\n  console.log(data);\r\n    const word = new Word({\r\n        eng: data.eng,\r\n        rus: data.rus\r\n    });\r\nconsole.log(word);\r\n    return word.save();\r\n}\r\n"]}